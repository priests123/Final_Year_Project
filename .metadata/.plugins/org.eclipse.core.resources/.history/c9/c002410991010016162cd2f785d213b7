package importToDB;

import java.util.ArrayList;


public class FormatFile {

		public static ArrayList<ArrayList<String>> FormatCSV(String fileLcoation){
			ArrayList<ArrayList<String>> rawRailDataFile = ReadInFile.readInCSV(fileLcoation);
			
			for(int a = 0; a < rawRailDataFile.size(); a++){
				for(int b = 0; b < 13; b++){
					rawRailDataFile.get(a).remove(4);
				}
			}
			
			
			ArrayList<String> allStations = Stations.addStations(rawRailDataFile);			
			UnitNumber.addUnitNumber(rawRailDataFile);
			ArrayList<String> allRoutes = Routes.addRoutes(rawRailDataFile);
			for(int m = 0; m < rawRailDataFile.size(); m++){
				System.out.println(rawRailDataFile.get(m));
				//System.out.println(allRoutes.get(m));
			}
			
			ArrayList<ArrayList<String>> formattedData = new ArrayList<ArrayList<String>>();
			for(int a = 0; a < rawRailDataFile.size(); a+=2){
				String journeyStartedTime = null;
				String unitNo = null;
				String routeID = null;
				ArrayList<String> currRoute = new ArrayList<String>();
				if((rawRailDataFile.get(a).size() == 5) && (rawRailDataFile.get(a).get(4).equals("FIRST")));{
					unitNo = rawRailDataFile.get(a).get(0);
					journeyStartedTime = rawRailDataFile.get(a).get(1);
					for(int b = a; b < rawRailDataFile.size(); b+=2){
						if((rawRailDataFile.get(b+1).size() == 5) && (rawRailDataFile.get(b+1).get(4).equals("LAST"))){
							currRoute.add(rawRailDataFile.get(b).get(3));
							currRoute.add(rawRailDataFile.get(b+1).get(3));
							
							break;
					
						}
						currRoute.add(rawRailDataFile.get(b).get(3));		
					}
				}
				String val = currRoute.toString().replaceAll("\\[", "").replaceAll("\\]","");
				int pos = (allRoutes.indexOf(val)-2);
				routeID = allRoutes.get(pos);
				System.out.println(pos);
				
				
			}
			
			
			
			
			
			
			/**
			
			
			for(int c = 0; c < rawRailDataFile.size(); c++){
				String journeyStartedTime = null;
				String unitNo = null;
				ArrayList<String> currentRow = null;
				if((rawRailDataFile.get(c).size() == 5) && (rawRailDataFile.get(c).get(4).equals("FIRST"))){
					journeyStartedTime = rawRailDataFile.get(c).get(1);
					unitNo = rawRailDataFile.get(c).get(0);
					//System.out.println(journeyStartedTime);
				}
				
				//currentRow.add(unitNo);
				//currentRow.add(journeyStartedTime);
				//ADD ROUTE ID
				
				
				
				
				
				
				
				if((rawRailDataFile.get(c).size() == 5) && (rawRailDataFile.get(c).get(4).equals("LAST"))){
					
				}else{
					
				}
			}
			
			
			**/
			return rawRailDataFile;
		}
}
